const express = require('express'); const bodyParser = require('body-parser'); const { sequelize } = require('./config/db'); const enrollmentRoutes = require('./routes/enrollment'); const authRoutes = require('./routes/auth'); const documentRoutes = require('./routes/documents'); require('dotenv').config(); const app = express(); app.use(bodyParser.json()); app.use('/uploads', express.static('uploads')); app.use('/api/enrollment', enrollmentRoutes); app.use('/api/auth', authRoutes); app.use('/api/documents', documentRoutes); const PORT = process.env.PORT || 5000; sequelize.sync().then(() => { console.log('PostgreSQL synced'); app.listen(PORT, () => console.log(`Server running on port ${PORT}`)); });