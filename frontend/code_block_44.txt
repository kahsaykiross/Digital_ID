import React, { useState, useEffect } from 'react'; import { getUserDetails, approveUser } from '../services/api'; const UserDetail = ({ user, token }) => { const [details, setDetails] = useState({}); const [message, setMessage] = useState(''); useEffect(() => { const fetchDetails = async () => { const res = await getUserDetails(user.id, token); setDetails(res.data.user); }; fetchDetails(); }, [user.id, token]); const handleApprove = async () => { const res = await approveUser(user.id, token); setMessage(res.data.message); }; return ( <div style={{ border: '1px solid #ccc', margin: '10px', padding: '10px' }}> <p>Name: {details.fullName}</p> <p>National ID: {details.nationalId}</p> <p>Documents Uploaded: {details.documents?.length || 0}</p> <button onClick={handleApprove}>Approve</button> {message && <p>{message}</p>} </div> ); }; export default UserDetail;