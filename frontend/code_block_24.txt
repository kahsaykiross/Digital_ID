import React, { useState } from 'react'; import { loginUser } from '../services/api'; const LoginForm = ({ setToken }) => { const [formData, setFormData] = useState({ nationalId: '', password: '' }); const [message, setMessage] = useState(''); const handleChange = (e) => setFormData({ ...formData, [e.target.name]: e.target.value }); const handleSubmit = async (e) => { e.preventDefault(); try { const res = await loginUser(formData); localStorage.setItem('token', res.data.token); setToken(res.data.token); setMessage('Login successful'); } catch (err) { setMessage(err.response?.data?.message || 'Login failed'); } }; return ( <div> <h2>Login</h2> <form onSubmit={handleSubmit}> <input name="nationalId" placeholder="National ID" onChange={handleChange} required /> <input name="password" type="password" placeholder="Password" onChange={handleChange} required /> <button type="submit">Login</button> </form> {message && <p>{message}</p>} </div> ); }; export default LoginForm;