import React, { useState } from 'react'; import { uploadDocument } from '../services/api'; const DocumentUpload = ({ token }) => { const [file, setFile] = useState(null); const [type, setType] = useState(''); const [message, setMessage] = useState(''); const handleSubmit = async (e) => { e.preventDefault(); const formData = new FormData(); formData.append('file', file); formData.append('userId', localStorage.getItem('userId')); formData.append('type', type); try { const res = await uploadDocument(formData, token); setMessage(res.data.message); } catch (err) { setMessage(err.response?.data?.message || 'Upload failed'); } }; return ( <div> <h2>Upload Document / Biometric</h2> <form onSubmit={handleSubmit}> <input type="file" onChange={(e) => setFile(e.target.files[0])} required /> <input type="text" placeholder="Document Type" value={type} onChange={(e) => setType(e.target.value)} required /> <button type="submit">Upload</button> </form> {message && <p>{message}</p>} </div> ); }; export default DocumentUpload;