import React, { useState } from 'react'; import { adminLogin } from '../services/api'; const Login = ({ setToken }) => { const [email, setEmail] = useState(''); const [password, setPassword] = useState(''); const [message, setMessage] = useState(''); const handleSubmit = async (e) => { e.preventDefault(); try { const res = await adminLogin({ email, password }); localStorage.setItem('adminToken', res.data.token); setToken(res.data.token); } catch (err) { setMessage(err.response?.data?.message || 'Login failed'); } }; return ( <div> <h2>Admin Login</h2> <form onSubmit={handleSubmit}> <input placeholder="Email" value={email} onChange={(e) => setEmail(e.target.value)} required /> <input type="password" placeholder="Password" value={password} onChange={(e) => setPassword(e.target.value)} required /> <button type="submit">Login</button> </form> {message && <p>{message}</p>} </div> ); }; export default Login;